{% extends 'main/base.html' %}
{% load i18n %}
<nav class="col-md-3 col-lg-2 d-md-block sidebar">
    <div class="sidebar-sticky">
        <ul class="nav flex-column">
            <!-- Home -->
            <li class="nav-item">
                <a class="nav-link active" href="{% url 'home' %}">{% trans "Home" %}</a>
            </li>
            <!-- Articles -->
            <li class="nav-item">
                <a class="nav-link" href="{% url 'article_list' %}">{% trans "Articles" %}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'article_create' %}">{% trans "Create Article" %}</a>
            </li>
            <!-- Profile -->
            <li class="nav-item">
                <a class="nav-link" href="{% url 'profile' %}">{% trans "Profile" %}</a>
            </li>
            <!-- User Account Management -->
            {% if user.is_authenticated %}
            <li class="nav-item">
                <a class="nav-link" href="{% url 'account_logout' %}">{% trans "Logout" %}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'delete_account' %}">{% trans "Delete Account" %}</a>
            </li>
            {% else %}
            <li class="nav-item">
                <a class="nav-link" href="{% url 'account_login' %}">{% trans "Login" %}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'account_signup' %}">{% trans "Signup" %}</a>
            </li>
            {% endif %}
            <!-- Search -->
            <li class="nav-item">
                <a class="nav-link" href="{% url 'search' %}">{% trans "Search" %}</a>
            </li>
            <!-- Language Switcher -->
            <li class="nav-item mt-3">
                <form action="{% url 'set_language' %}" method="post">
                    {% csrf_token %}
                    <input name="next" type="hidden" value="{{ request.path }}">
                    <select name="language" onchange="this.form.submit()" class="form-control">
                        {% get_current_language as LANGUAGE_CODE %}
                        {% get_available_languages as LANGUAGES %}
                        {% for lang in LANGUAGES %}
                            <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>
                                {{ lang.1 }}
                            </option>
                        {% endfor %}
                    </select>
                </form>
            </li>
        </ul>
    </div>
</nav>
{% endblock %}
